{
  "Resources": {
    "Cluster": {
      "Name": "AWS::ECS::Cluster",
      "Properties": {
        "ClusterName": {
          "Description": "A name for the cluster. If you don't specify a name, AWS CloudFormation generates a unique physical ID for the name. For more                                 information, see Name Type.                                                                     Important                                    If you specify a name, you cannot perform updates that require replacement of this resource.                                       You can perform updates that require no or some interruption. If you must replace the resource, specify a new name.ImportantIf you specify a name, you cannot perform updates that require replacement of this resource.                                       You can perform updates that require no or some interruption. If you must replace the resource, specify a new name.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        }
      }
    },
    "Service": {
      "Name": "AWS::ECS::Service",
      "Properties": {
        "Cluster": {
          "Description": "The name or Amazon Resource Name (ARN) of the cluster that you want to run your                                 Amazon ECS                                 service on. If you do not specify a cluster, Amazon ECS uses the default                                 cluster.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "DeploymentConfiguration": {
          "Description": "Configures how many tasks run during a deployment.",
          "Array": false,
          "Type": "aws-properties-ecs-service-deploymentconfiguration",
          "Required": "No",
          "UpdateRequires": "No interruption"
        },
        "PlacementConstraints": {
          "Description": "The placement constraints for the tasks in the service.",
          "Array": false,
          "Type": "aws-properties-ecs-service-placementconstraints-placementconstraint",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "PlacementStrategies": {
          "Description": "The placement strategies that determine how tasks for the service are placed.",
          "Array": false,
          "Type": "aws-properties-ecs-service-placementstrategies-placementstrategy",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "DesiredCount": {
          "Description": "The number of simultaneous tasks that you want to run on the cluster. Specify                                 the tasks with the TaskDefinition property.",
          "Array": false,
          "Type": "Number",
          "Required": "No",
          "UpdateRequires": "No interruption"
        },
        "LoadBalancers": {
          "Description": "A list of load balancer objects to associate with the cluster. For information                                 about the number of load balancers that you can specify per service, see Service Load Balancing                                 in the Amazon EC2 Container Service Developer Guide.",
          "Array": true,
          "Type": "aws-properties-ecs-service-loadbalancers",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "Role": {
          "Description": "The name or ARN of an AWS Identity and Access Management (IAM) role that allows your Amazon ECS container                                 agent to make calls to your load balancer.NoteIn some cases, you might need to add a dependency on the service role's                                    policy. For more information, see IAM role policy in DependsOn Attribute.",
          "Array": false,
          "Type": "String",
          "Required": "Conditional. Required only if you specify the                                 LoadBalancers property.",
          "UpdateRequires": "Replacement"
        },
        "ServiceName": {
          "Description": "The name of your                                 service.                                 The name is limited to 255 letters (uppercase and lowercase), numbers, hyphens,                                 and underscores. Service names must be unique within a cluster, but you can have                                 similarly named services in multiple clusters within a region or across multiple                                 regions.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "TaskDefinition": {
          "Description": "The ARN of the task definition (including the revision number) that you want to                                 run on the cluster, such as                                 arn:aws:ecs:us-east-1:123456789012:task-definition/mytask:3.                                 You can't use :latest to specify a revision because it's ambiguous.                                 For example, if AWS CloudFormation needed to roll back an update, it wouldn't know which                                 revision to roll back to.",
          "Array": false,
          "Type": "String",
          "Required": "Yes",
          "UpdateRequires": "Some interruptions"
        }
      }
    },
    "TaskDefinition": {
      "Name": "AWS::ECS::TaskDefinition",
      "Properties": {
        "Volumes": {
          "Description": "A list of volume definitions                                 in                                 JSON format for the volumes that you can use in your container                                 definitions.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-volumes",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "Family": {
          "Description": "The name of a family that this task definition is registered to. A                                 family groups multiple versions of a task definition. Amazon ECS gives                                 the first task definition that you registered to a family a revision number of 1. Amazon ECS                                 gives sequential revision numbers to each task definition that you add.NoteTo use revision numbers when you update a task definition, specify this property.                                    If you don't specify a value, AWS CloudFormation generates a new task definition each time that you                                    update                                    it.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "NetworkMode": {
          "Description": "The Docker networking mode to use for the containers in the task, such as                                 none, bridge, or host. For information about                                 network modes, see NetworkMode in the Task Definition Parameters                                 topic in the Amazon EC2 Container Service Developer Guide.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "TaskRoleArn": {
          "Description": "The Amazon Resource Name (ARN) of an AWS Identity and Access Management (IAM) role that grants containers in the task permission                                 to call AWS APIs on your behalf. For more information, see IAM Roles for Tasks in the Amazon EC2 Container Service Developer Guide.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "PlacementConstraints": {
          "Description": "The placement constraints for the tasks in the service.",
          "Array": false,
          "Type": "aws-properties-ecs-taskdefinition-placementconstraints-taskdefinitionplacementconstraint",
          "Required": "No",
          "UpdateRequires": "Replacement"
        },
        "ContainerDefinitions": {
          "Description": "A list of container definitions in                                 JSON                                 format that describes the containers that make up your task.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions",
          "Required": "Yes",
          "UpdateRequires": "Replacement"
        }
      }
    }
  },
  "Models": {
    "aws-properties-ecs-service-deploymentconfiguration": {
      "Name": "AmazonEC2ContainerServiceServiceDeploymentConfiguration",
      "Properties": {
        "MaximumPercent": {
          "Description": "The maximum number of tasks, specified as a percentage of the Amazon ECS service's DesiredCount value, that can run in a service during a deployment. To calculate the maximum number of tasks, Amazon ECS uses this formula:                                 the value of DesiredCount * (the value of the MaximumPercent/100), rounded down to the nearest integer value.",
          "Array": false,
          "Type": "Number",
          "Required": "No"
        },
        "MinimumHealthyPercent": {
          "Description": "The minimum number of tasks, specified as a percentage of the Amazon ECS service's DesiredCount value, that must continue to run and remain healthy during a deployment. To calculate the minimum number of tasks, Amazon                                 ECS uses this formula: the value of DesiredCount * (the value of the MinimumHealthyPercent/100), rounded up to the nearest integer value.",
          "Array": false,
          "Type": "Number",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-service-placementconstraints-placementconstraint": {
      "Name": "AmazonEC2ContainerServiceServicePlacementConstraint",
      "Properties": {
        "Type": {
          "Description": "The type of constraint: distinctInstance or                                 memberOf.To ensure that each task in a particular group is running on a different                                 container instance, use distinctInstance. To restrict the selection                                 to a group of valid candidates, use memberOf.                                 distinctInstance is not supported in task definitions.",
          "Array": false,
          "Type": "String",
          "Required": "Yes",
          "UpdateRequires": "Replacement"
        },
        "Expression": {
          "Description": "A cluster query language expression to apply to the constraint. If the                                 constraint type is distinctInstance, you can't specify an expression.                                 For more information, see Cluster Query Language in the                                 Amazon EC2 Container Service Developer Guide.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        }
      }
    },
    "aws-properties-ecs-service-placementstrategies-placementstrategy": {
      "Name": "AmazonEC2ContainerServiceServicePlacementStrategies",
      "Properties": {
        "Type": {
          "Description": "The type of placement strategy. Can be one of the following values: random, spread, or binpack.The random placement strategy randomly places tasks on                                  available candidates. The spread placement strategy spreads placement across available                                  candidates evenly based on the field parameter. The binpack strategy places tasks on                                  available candidates that have the least available amount of the resource that is specified with                                  the field parameter. For example, if you binpack on memory, a task is placed on the instance                                  with the least amount of remaining memory (but still enough to run the task).",
          "Array": false,
          "Type": "String",
          "Required": "Yes",
          "UpdateRequires": "Replacement"
        },
        "Field": {
          "Description": "The field to apply the placement strategy against. For the spread placement strategy,                                  valid values are instanceId (or host, which has the same effect), or                                  any platform or custom attribute that is applied to a container instance, such as attribute:ecs.availability-zone.For the binpack placement strategy, valid values are cpu and memory.For the random placement strategy, this field is not used.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        }
      }
    },
    "aws-properties-ecs-service-loadbalancers": {
      "Name": "AmazonEC2ContainerServiceServiceLoadBalancers",
      "Properties": {
        "ContainerName": {
          "Description": "The name of a container to use with the load balancer.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "ContainerPort": {
          "Description": "The port number on the container to direct load balancer traffic to. Your                                 container instances must allow ingress traffic on this port.",
          "Array": false,
          "Type": "Number",
          "Required": "Yes"
        },
        "LoadBalancerName": {
          "Description": "The name of a Classic Load Balancer to associate with the Amazon ECS service.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        },
        "TargetGroupArn": {
          "Description": "An Application load balancer target group Amazon Resource Name (ARN) to associate with the Amazon ECS service.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-volumes": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionVolumes",
      "Properties": {
        "Name": {
          "Description": "The name of the volume. To specify mount points in your container definitions,                                 use the value of this property.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "Host": {
          "Description": "Determines whether your data volume persists on the host container instance and                                 at the location where it is stored.",
          "Array": false,
          "Type": "aws-properties-ecs-taskdefinition-volumes-host",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-volumes-host": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionVolumesHost",
      "Properties": {
        "SourcePath": {
          "Description": "The data volume path on the host container instance.If you don't specify this parameter, the Docker daemon assigns a path for you,                                 but the data volume might not persist after the associated container stops                                 running. If you do specify a path, the data volume persists at that location on                                 the host container instance until you manually delete it.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-placementconstraints-taskdefinitionplacementconstraint": {
      "Name": "AmazonEC2ContainerServiceServicePlacementConstraint",
      "Properties": {
        "Type": {
          "Description": "The type of constraint: distinctInstance or                                 memberOf.To ensure that each task in a particular group is running on a different                                 container instance, use distinctInstance. To restrict selection to a                                 group of valid candidates, use memberOf.                                 distinctInstance is not supported in task definitions.",
          "Array": false,
          "Type": "String",
          "Required": "Yes",
          "UpdateRequires": "Replacement"
        },
        "Expression": {
          "Description": "A cluster query language expression to apply to the constraint. If the                                 constraint type is distinctInstance, you can't specify an expression.                                 For more information, see Cluster Query Language in the                                 Amazon EC2 Container Service Developer Guide.",
          "Array": false,
          "Type": "String",
          "Required": "No",
          "UpdateRequires": "Replacement"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitions",
      "Properties": {
        "Command": {
          "Description": "The CMD value to pass to the container. For more information                                 about the Docker CMD parameter, see https://docs.docker.com/engine/reference/builder/#cmd.",
          "Array": true,
          "Type": "String",
          "Required": "No"
        },
        "Cpu": {
          "Description": "The minimum number of CPU units to reserve for the container. Containers share unallocated CPU units with other containers                                 on the instance by using the same ratio as their allocated CPU units. For more information, see the cpu content for the ContainerDefinition data type in the Amazon EC2 Container Service API Reference.",
          "Array": false,
          "Type": "Number",
          "Required": "No"
        },
        "DisableNetworking": {
          "Description": "Indicates whether networking is disabled within the container.",
          "Array": false,
          "Type": "Boolean",
          "Required": "No"
        },
        "DnsSearchDomains": {
          "Description": "A list of DNS search domains that are provided to the container. The domain names that the DNS logic looks up when a process                                 attempts to access a bare unqualified hostname.",
          "Array": true,
          "Type": "String",
          "Required": "No"
        },
        "DnsServers": {
          "Description": "A list of DNS servers that Amazon ECS provides to the container.",
          "Array": true,
          "Type": "String",
          "Required": "No"
        },
        "DockerLabels": {
          "Description": "A key-value map of labels for the container.",
          "Array": false,
          "Type": "Map",
          "Required": "No"
        },
        "DockerSecurityOptions": {
          "Description": "A list of custom labels for SELinux and AppArmor multi-level security systems. For more information, see the dockerSecurityOptions content for the ContainerDefinition data type in the Amazon EC2 Container Service API Reference.",
          "Array": true,
          "Type": "String",
          "Required": "No"
        },
        "EntryPoint": {
          "Description": "The ENTRYPOINT value to pass to the container. For more                                 information about the Docker ENTRYPOINT parameter, see https://docs.docker.com/engine/reference/builder/#entrypoint.",
          "Array": true,
          "Type": "String",
          "Required": "No"
        },
        "Environment": {
          "Description": "The environment variables to pass to the container.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions-environment",
          "Required": "No"
        },
        "Essential": {
          "Description": "Indicates whether the task stops if this container fails. If you specify true and the container fails, all other containers in the task stop. If you specify false and the container fails, none of the other containers in the task is affected. This value is true by default.You must have at least one essential container in a task.",
          "Array": false,
          "Type": "Boolean",
          "Required": "No"
        },
        "ExtraHosts": {
          "Description": "A list of hostnames and IP address mappings to append to the /etc/hosts file on the container.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions-hostentry",
          "Required": "No"
        },
        "Hostname": {
          "Description": "The name that Docker will use for the container's hostname.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        },
        "Image": {
          "Description": "The image to use for a container, which is passed directly to the Docker                                 daemon. You can use images in the Docker Hub registry or specify other                                 repositories                                 (repository-url/image:tag).",
          "Array": false,
          "Type": "String",
          "Required": "No"
        },
        "Links": {
          "Description": "The name of another container to connect to. With links, containers can                                 communicate with each other without using port mappings.",
          "Array": true,
          "Type": "String",
          "Required": "No"
        },
        "LogConfiguration": {
          "Description": "Configures a custom log driver for the container. For more information, see the                                 logConfiguration content for the ContainerDefinition data type                                 in the Amazon EC2 Container Service API Reference.",
          "Array": false,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions-logconfiguration",
          "Required": "No"
        },
        "Memory": {
          "Description": "The number of MiB of memory to reserve for the container. If your container attempts to exceed the allocated memory, the container                                 is terminated.",
          "Array": false,
          "Type": "Number",
          "Required": "Conditional. You must specify one or both of the                                 Memory or MemoryReservation properties. If you                                 specify both, the value for the Memory property must be greater                                 than the value of the MemoryReservation property."
        },
        "MemoryReservation": {
          "Description": "The number of MiB of memory to reserve for the container. When system                                 memory is under contention, Docker attempts to keep the container memory                                 within the limit. If the container requires more memory, it can consume up                                 to the value specified by the Memory property or all of the                                 available memory on the container instance, whichever comes first. This is                                 called a soft limit.",
          "Array": false,
          "Type": "Number",
          "Required": "Conditional. You must specify one or both of the                                 Memory or MemoryReservation properties. If you                                 specify both, the value for the Memory property must be greater                                 than the value of the MemoryReservation property."
        },
        "MountPoints": {
          "Description": "The mount points for data volumes in the container.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions-mountpoints",
          "Required": "No"
        },
        "Name": {
          "Description": "A name for the container.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        },
        "PortMappings": {
          "Description": "A mapping of the container port to a host port. Port mappings enable                                 containers to access ports on the host container instance to send or receive                                 traffic.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions-portmappings",
          "Required": "No"
        },
        "Privileged": {
          "Description": "Indicates whether the container is given full access to the host container instance.",
          "Array": false,
          "Type": "Boolean",
          "Required": "No"
        },
        "ReadonlyRootFilesystem": {
          "Description": "Indicates whether the container's root file system is mounted as read only.",
          "Array": false,
          "Type": "Boolean",
          "Required": "No"
        },
        "Ulimits": {
          "Description": "A list of ulimits to set in the container. The ulimits set constraints on how much resources a container can consume so that                                 it doesn't deplete all available resources on the host.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions-ulimit",
          "Required": "No"
        },
        "User": {
          "Description": "The user name to use inside the container.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        },
        "VolumesFrom": {
          "Description": "The data volumes to mount from another container.",
          "Array": true,
          "Type": "aws-properties-ecs-taskdefinition-containerdefinitions-volumesfrom",
          "Required": "No"
        },
        "WorkingDirectory": {
          "Description": "The working directory in the container in which to run commands.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions-environment": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitionsEnvironment",
      "Properties": {
        "Name": {
          "Description": "The name of the environment variable.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "Value": {
          "Description": "The value of the environment variable.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions-hostentry": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitionsHostEntry",
      "Properties": {
        "Hostname": {
          "Description": "The hostname to use in the /etc/hosts file.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "IpAddress": {
          "Description": "The IP address to use in the /etc/hosts file.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions-logconfiguration": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitionsLogConfiguration",
      "Properties": {
        "LogDriver": {
          "Description": "The log driver to use for the container. This parameter requires that your container instance uses Docker Remote API Version                                 1.18 or greater. For more information, see the logDriver content for the LogConfiguration data type in the Amazon EC2 Container Service API Reference.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "Options": {
          "Description": "The configuration options to send to the log driver. This parameter requires that your container instance uses Docker Remote                                 API Version 1.18 or greater.",
          "Array": false,
          "Type": "Map",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions-mountpoints": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitionsMountPoints",
      "Properties": {
        "ContainerPath": {
          "Description": "The path on the container that indicates where you want to mount the                                 volume.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "SourceVolume": {
          "Description": "The name of the volume to mount.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "ReadOnly": {
          "Description": "Indicates whether the container can write to the volume. If you specify                                 true, the container has read-only access to the volume.                                 If you specify false, the container can write to the                                 volume. By default, the value is false.",
          "Array": false,
          "Type": "Boolean",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions-portmappings": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitionsPortMappings",
      "Properties": {
        "ContainerPort": {
          "Description": "The port number on the container bound to the host port.",
          "Array": false,
          "Type": "Number",
          "Required": "Yes"
        },
        "HostPort": {
          "Description": "The host port number on the container instance that you want to reserve for                                 your container. You can specify a non-reserved host port for your container port                                 mapping, omit the host port, or set the host port to 0. If you                                 specify a container port but no host port, your container host port is assigned                                 automatically .Don't specify a host port in the 49153 to 65535 port                                 range; these ports are reserved for automatic assignment. Other reserved ports                                 include 22 for SSH, 2375 and 2376 for                                 Docker, and 51678 for the Amazon EC2 Container Service container agent. Don't specify a                                 host port that is being used for a taskâ€”that port is reserved while the                                 task is running.",
          "Array": false,
          "Type": "Number",
          "Required": "No"
        },
        "Protocol": {
          "Description": "The protocol used for the port mapping. For valid values, see the protocol parameter in the Amazon EC2 Container Service Developer Guide. By default, AWS CloudFormation specifies tcp.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions-ulimit": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitionsUlimit",
      "Properties": {
        "HardLimit": {
          "Description": "The hard limit for the ulimit type.",
          "Array": false,
          "Type": "Number",
          "Required": "Yes"
        },
        "Name": {
          "Description": "The type of ulimit. For valid values, see the name content for the                                 Ulimit data type in the                                 Amazon EC2 Container Service API Reference.",
          "Array": false,
          "Type": "String",
          "Required": "No"
        },
        "SoftLimit": {
          "Description": "The soft limit for the ulimit type.",
          "Array": false,
          "Type": "Number",
          "Required": "Yes"
        }
      }
    },
    "aws-properties-ecs-taskdefinition-containerdefinitions-volumesfrom": {
      "Name": "AmazonEC2ContainerServiceTaskDefinitionContainerDefinitionsVolumesFrom",
      "Properties": {
        "SourceContainer": {
          "Description": "The name of the container that has the volumes to mount.",
          "Array": false,
          "Type": "String",
          "Required": "Yes"
        },
        "ReadOnly": {
          "Description": "Indicates whether the container can write to the volume. If you specify                                 true, the container has read-only access to the volume.                                 If you specify false, the container can write to the                                 volume. By default, the value is false.",
          "Array": false,
          "Type": "Boolean",
          "Required": "No"
        }
      }
    }
  }
}
